<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>NoUniqueNormalFormsWOElaborated</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library NoUniqueNormalFormsWOElaborated</h1>

<div class="code">

<br/>
</div>

<div class="doc">
This library contains some additional lemmas on the TRS used in the
   counterexample to uniqueness of normal forms (UN) implied by weak
   orthogonality (WO) in the <span class="inlinecode"><span class="id" type="var">NoUniqueNormalFormsWO</span></span> library. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Rewriting.html#"><span class="id" type="library">Rewriting</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Program.Equality.html#"><span class="id" type="library">Equality</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="NoUniqueNormalFormsWO.html#"><span class="id" type="library">NoUniqueNormalFormsWO</span></a>.<br/>

<br/>
<span class="id" type="keyword">Set</span> <span class="id" type="keyword">Implicit</span> <span class="id" type="var">Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
Trivial substitution. 
</div>
<div class="code">
<span class="id" type="var">Notation </span><a name="id_sub"><span class="id" type="abbreviation">id_sub</span></a> := (<a class="idref" href="Substitution.html#empty_substitution"><span class="id" type="definition">empty_substitution</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a>).<br/>

<br/>
</div>

<div class="doc">
The infinite term DUDU... 
</div>
<div class="code">
<span class="id" type="keyword">CoFixpoint</span> <a name="repeat_DU"><span class="id" type="definition">repeat_DU</span></a> : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>.<br/>

<br/>
</div>

<div class="doc">
As an example, we prove that (Ux, UX) is a critical pair in <span class="inlinecode"><span class="id" type="var">UD_trs</span></span>. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="critical_pair_Ux_Ux"><span class="id" type="lemma">critical_pair_Ux_Ux</span></a> : <a class="idref" href="Rewriting.html#critical_pair"><span class="id" type="definition">critical_pair</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#UD_trs"><span class="id" type="definition">UD_trs</span></a> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>) (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">critical_pair</span>.<br/>
<span class="id" type="var">exists</span> <a class="idref" href="NoUniqueNormalFormsWO.html#UD"><span class="id" type="definition">UD</span></a>.<br/>
<span class="id" type="var">exists</span> <a class="idref" href="NoUniqueNormalFormsWO.html#DU"><span class="id" type="definition">DU</span></a>.<br/>
<span class="id" type="var">exists</span> (0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#:list_scope:x_::_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>).<br/>
<span class="id" type="var">exists</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <span class="id" type="keyword">match</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#beq_var"><span class="id" type="definition">beq_var</span></a> <span class="id" type="var">x</span> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a>) <span class="id" type="keyword">with</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a> | <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> =&gt; <span class="id" type="var">x</span><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a> <span class="id" type="keyword">end</span>).<br/>
<span class="id" type="var">exists</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#id_sub"><span class="id" type="abbreviation">id_sub</span></a>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="var">right</span>; <span class="id" type="var">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="var">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">discriminate</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vcast</span>.<br/>
<span class="id" type="tactic">generalize</span> (<a class="idref" href="Context.html#lt_plus_minus_r"><span class="id" type="lemma">lt_plus_minus_r</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Arith.Gt.html#gt_le_S"><span class="id" type="lemma">Gt.gt_le_S</span></a> 0 1 (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Arith.Lt.html#lt_0_Sn"><span class="id" type="lemma">Lt.lt_0_Sn</span></a> 0))).<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">generalize</span> (<a class="idref" href="Context.html#lt_plus_minus_r"><span class="id" type="lemma">lt_plus_minus_r</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Arith.Lt.html#lt_le_S"><span class="id" type="lemma">Lt.lt_le_S</span></a> 0 1 (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Arith.Lt.html#lt_0_Sn"><span class="id" type="lemma">Lt.lt_0_Sn</span></a> 0))).<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h1 class="section">DDD... and UUU... are infinite normal forms</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
DDD... is infinite (using the coinductive <span class="inlinecode"><span class="id" type="var">term_inf</span></span> predicate. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="term_inf_repeat_D"><span class="id" type="lemma">term_inf_repeat_D</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Term.html#term_inf"><span class="id" type="inductive">term_inf</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="var">cofix</span> <span class="id" type="var">co</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>); <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="Term.html#Fun_inf"><span class="id" type="constructor">Fun_inf</span></a> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
UUU... is infinite (using the coinductive <span class="inlinecode"><span class="id" type="var">term_inf</span></span> predicate. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="term_inf_repeat_U"><span class="id" type="lemma">term_inf_repeat_U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Term.html#term_inf"><span class="id" type="inductive">term_inf</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="var">cofix</span> <span class="id" type="var">co</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>); <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="Term.html#Fun_inf"><span class="id" type="constructor">Fun_inf</span></a> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
DDD... is infinite (using the alternative <span class="inlinecode"><span class="id" type="var">infinite</span></span> predicate. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="infinite_repeat_D"><span class="id" type="lemma">infinite_repeat_D</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Term.html#infinite"><span class="id" type="definition">infinite</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">d</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">S</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_:_x_,_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_:_x_,_x"><span class="id" type="notation">:</span></a> <a class="idref" href="Term.html#position"><span class="id" type="abbreviation">position</span></a><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_:_x_,_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Term.html#position_depth"><span class="id" type="definition">position_depth</span></a> <span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">d</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Term.html#subterm"><span class="id" type="definition">subterm</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a> <span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>).<br/>
<span class="id" type="var">exists</span> ((<span class="id" type="var">fix</span> <span class="id" type="var">z</span> <span class="id" type="var">n</span> := <span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> | <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span> =&gt; 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#:list_scope:x_::_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#:list_scope:x_::_x"><span class="id" type="notation">(</span></a><span class="id" type="var">z</span> <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#:list_scope:x_::_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">end</span>) <span class="id" type="var">d</span>).<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">f_equal</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHd</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHd</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">S</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">p</span> <span class="id" type="var">S</span>].<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">p</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">S</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">S</span>).<br/>
<span class="id" type="tactic">discriminate</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
UUU... is infinite (using the alternative <span class="inlinecode"><span class="id" type="var">infinite</span></span> predicate. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="infinite_repeat_U"><span class="id" type="lemma">infinite_repeat_U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Term.html#infinite"><span class="id" type="definition">infinite</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">d</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">S</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_:_x_,_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_:_x_,_x"><span class="id" type="notation">:</span></a> <a class="idref" href="Term.html#position"><span class="id" type="abbreviation">position</span></a><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_:_x_,_x"><span class="id" type="notation">,</span></a> <a class="idref" href="Term.html#position_depth"><span class="id" type="definition">position_depth</span></a> <span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">d</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Term.html#subterm"><span class="id" type="definition">subterm</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a> <span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>).<br/>
<span class="id" type="var">exists</span> ((<span class="id" type="var">fix</span> <span class="id" type="var">z</span> <span class="id" type="var">n</span> := <span class="id" type="keyword">match</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> | <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span> =&gt; 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#:list_scope:x_::_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#:list_scope:x_::_x"><span class="id" type="notation">(</span></a><span class="id" type="var">z</span> <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#:list_scope:x_::_x"><span class="id" type="notation">)</span></a> <span class="id" type="keyword">end</span>) <span class="id" type="var">d</span>).<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">d</span>; <span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">f_equal</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHd</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHd</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">S</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">p</span> <span class="id" type="var">S</span>].<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">p</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">S</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">S</span>).<br/>
<span class="id" type="tactic">discriminate</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
DDD... is an infinite normal form. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="infinite_nf_repeat_D"><span class="id" type="lemma">infinite_nf_repeat_D</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Term.html#term_inf"><span class="id" type="inductive">term_inf</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Rewriting.html#normal_form"><span class="id" type="definition">normal_form</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#UD_trs"><span class="id" type="definition">UD_trs</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#conj"><span class="id" type="constructor">conj</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#term_inf_repeat_D"><span class="id" type="lemma">term_inf_repeat_D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#normal_form_repeat_D"><span class="id" type="lemma">normal_form_repeat_D</span></a>).<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
UUU... is an infinite normal form. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="infinite_nf_repeat_U"><span class="id" type="lemma">infinite_nf_repeat_U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Term.html#term_inf"><span class="id" type="inductive">term_inf</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Rewriting.html#normal_form"><span class="id" type="definition">normal_form</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#UD_trs"><span class="id" type="definition">UD_trs</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#conj"><span class="id" type="constructor">conj</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#term_inf_repeat_U"><span class="id" type="lemma">term_inf_repeat_U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#normal_form_repeat_U"><span class="id" type="lemma">normal_form_repeat_U</span></a>).<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab8"></a><h1 class="section">DDD... and UUU... are the only infinite normal forms</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Using coinductive infinite predicate 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="repeat_D_repeat_U_only_infinite_normal_forms"><span class="id" type="lemma">repeat_D_repeat_U_only_infinite_normal_forms</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#term_inf"><span class="id" type="inductive">term_inf</span></a> <span class="id" type="var">t</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Rewriting.html#normal_form"><span class="id" type="definition">normal_form</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#UD_trs"><span class="id" type="definition">UD_trs</span></a> <span class="id" type="var">t</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">t</span> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_\/_x"><span class="id" type="notation">\/</span></a> <span class="id" type="var">t</span> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
</div>

<div class="doc">
This is a very ugly proof by the way. 
</div>
<div class="code">
<span class="id" type="tactic">intros</span> [<span class="id" type="var">x</span> | [] <span class="id" type="var">args</span>] [<span class="id" type="var">It</span> <span class="id" type="var">Nt</span>].<br/>

<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">It</span>.<br/>

<br/>
<span class="id" type="var">left</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : <a class="idref" href="TermEquality.html#term_eq_up_to"><span class="id" type="inductive">term_eq_up_to</span></a> 1 (@<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <span class="id" type="var">args</span>) <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_eq_implies_term_bis"><span class="id" type="lemma">term_eq_implies_term_bis</span></a>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">n</span>.<br/>
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> (@<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <span class="id" type="var">args</span>).<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">n</span> <span class="id" type="var">IH</span>]; <span class="id" type="tactic">intros</span> <span class="id" type="var">t</span> <span class="id" type="var">It</span> <span class="id" type="var">Nt</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>

<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">IH</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="tactic">intros</span> [<span class="id" type="var">c</span> [<span class="id" type="var">r</span> [<span class="id" type="var">u</span> [<span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]]]].<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="var">exists</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <span class="id" type="var">c</span>).<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">r</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">u</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">Hx</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:~_x"><span class="id" type="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_,_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">w</span><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_,_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">v</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> @<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <span class="id" type="var">w</span>).<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">Hx</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">normal_form</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">It</span> <span class="id" type="var">Nt</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">Hx</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">w</span> <span class="id" type="var">H</span>].<br/>
<span class="id" type="var">exists</span> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a>.<br/>
<span class="id" type="var">exists</span> <a class="idref" href="NoUniqueNormalFormsWO.html#DU"><span class="id" type="definition">DU</span></a>.<br/>
<span class="id" type="var">exists</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">w</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a>).<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="var">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">Nt</span>.<br/>

<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">destruct</span> (<span class="id" type="var">v</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a>).<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">f</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>); <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">Hx</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">v0</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
</div>

<div class="doc">
Same argument follows. 
</div>
<div class="code">

<br/>
<span class="id" type="var">right</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : <a class="idref" href="TermEquality.html#term_eq_up_to"><span class="id" type="inductive">term_eq_up_to</span></a> 1 (@<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <span class="id" type="var">args</span>) <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_eq_implies_term_bis"><span class="id" type="lemma">term_eq_implies_term_bis</span></a>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">n</span>.<br/>
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> (@<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <span class="id" type="var">args</span>).<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">n</span> <span class="id" type="var">IH</span>]; <span class="id" type="tactic">intros</span> <span class="id" type="var">t</span> <span class="id" type="var">It</span> <span class="id" type="var">Nt</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>

<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">IH</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">trivial</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="tactic">intros</span> [<span class="id" type="var">c</span> [<span class="id" type="var">r</span> [<span class="id" type="var">u</span> [<span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]]]].<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="var">exists</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <span class="id" type="var">c</span>).<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">r</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">u</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">Hx</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:~_x"><span class="id" type="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_,_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">w</span><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_,_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">v</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> @<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <span class="id" type="var">w</span>).<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">Hx</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">normal_form</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">It</span> <span class="id" type="var">Nt</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">Hx</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">w</span> <span class="id" type="var">H</span>].<br/>
<span class="id" type="var">exists</span> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a>.<br/>
<span class="id" type="var">exists</span> <a class="idref" href="NoUniqueNormalFormsWO.html#UD"><span class="id" type="definition">UD</span></a>.<br/>
<span class="id" type="var">exists</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">w</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a>).<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="var">right</span>; <span class="id" type="var">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">Nt</span>.<br/>

<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">destruct</span> (<span class="id" type="var">v</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a>).<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">f</span>.<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">Hx</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">v0</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>); <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Using alternative infinite predicate via positions. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="repeat_D_repeat_U_only_infinite_normal_forms_alt"><span class="id" type="lemma">repeat_D_repeat_U_only_infinite_normal_forms_alt</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Term.html#infinite"><span class="id" type="definition">infinite</span></a> <span class="id" type="var">t</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="Rewriting.html#normal_form"><span class="id" type="definition">normal_form</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#UD_trs"><span class="id" type="definition">UD_trs</span></a> <span class="id" type="var">t</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">t</span> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_\/_x"><span class="id" type="notation">\/</span></a> <span class="id" type="var">t</span> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
</div>

<div class="doc">
This is a very ugly proof by the way. 
</div>
<div class="code">
<span class="id" type="tactic">intros</span> [<span class="id" type="var">x</span> | [] <span class="id" type="var">args</span>] [<span class="id" type="var">It</span> <span class="id" type="var">Nt</span>].<br/>

<br/>
<span class="id" type="tactic">destruct</span> (<span class="id" type="var">It</span> 1) <span class="id" type="keyword">as</span> [<span class="id" type="var">p</span> [<span class="id" type="var">Dp</span> <span class="id" type="var">Hp</span>]].<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">Hp</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">a</span> [| <span class="id" type="var">b</span> <span class="id" type="var">p</span>]].<br/>
<span class="id" type="tactic">discriminate</span> <span class="id" type="var">Dp</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">discriminate</span> <span class="id" type="var">Dp</span>.<br/>

<br/>
<span class="id" type="var">left</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : <a class="idref" href="TermEquality.html#term_eq_up_to"><span class="id" type="inductive">term_eq_up_to</span></a> 1 (@<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <span class="id" type="var">args</span>) <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_eq_implies_term_bis"><span class="id" type="lemma">term_eq_implies_term_bis</span></a>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">n</span>.<br/>
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> (@<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <span class="id" type="var">args</span>).<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">n</span> <span class="id" type="var">IH</span>]; <span class="id" type="tactic">intros</span> <span class="id" type="var">t</span> <span class="id" type="var">It</span> <span class="id" type="var">Nt</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>

<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">IH</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">d</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> := <span class="id" type="var">It</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d</span>)).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">p</span> [<span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]].<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">p</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">p</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">n0</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>

<br/>
<span class="id" type="tactic">intros</span> [<span class="id" type="var">c</span> [<span class="id" type="var">r</span> [<span class="id" type="var">u</span> [<span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]]]].<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="var">exists</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <span class="id" type="var">c</span>).<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">r</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">u</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">Hx</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:~_x"><span class="id" type="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_,_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">w</span><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_,_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">v</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> @<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <span class="id" type="var">w</span>).<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">Hx</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">normal_form</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">It</span> <span class="id" type="var">Nt</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">Hx</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">w</span> <span class="id" type="var">H</span>].<br/>
<span class="id" type="var">exists</span> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a>.<br/>
<span class="id" type="var">exists</span> <a class="idref" href="NoUniqueNormalFormsWO.html#DU"><span class="id" type="definition">DU</span></a>.<br/>
<span class="id" type="var">exists</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">w</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a>).<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="var">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">Nt</span>.<br/>

<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">infinite</span> <span class="id" type="keyword">in</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">It</span> <span class="id" type="keyword">with</span> 2.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">It</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">p</span> [<span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]].<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">a</span>] [| <span class="id" type="var">b</span> [| <span class="id" type="var">c</span> <span class="id" type="var">p</span>]]].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vhead</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">destruct</span> (<span class="id" type="var">v</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a>).<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">f</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_D"><span class="id" type="definition">repeat_D</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">Hx</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">v0</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
</div>

<div class="doc">
Same argument follows. 
</div>
<div class="code">

<br/>
<span class="id" type="var">right</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : <a class="idref" href="TermEquality.html#term_eq_up_to"><span class="id" type="inductive">term_eq_up_to</span></a> 1 (@<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <span class="id" type="var">args</span>) <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_eq_implies_term_bis"><span class="id" type="lemma">term_eq_implies_term_bis</span></a>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">n</span>.<br/>
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> (@<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <span class="id" type="var">args</span>).<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">n</span> <span class="id" type="var">IH</span>]; <span class="id" type="tactic">intros</span> <span class="id" type="var">t</span> <span class="id" type="var">It</span> <span class="id" type="var">Nt</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>

<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">IH</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">d</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> := <span class="id" type="var">It</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d</span>)).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">p</span> [<span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]].<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">p</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">p</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">n0</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>

<br/>
<span class="id" type="tactic">intros</span> [<span class="id" type="var">c</span> [<span class="id" type="var">r</span> [<span class="id" type="var">u</span> [<span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]]]].<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="var">exists</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <span class="id" type="var">c</span>).<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">r</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">u</span>.<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">Hx</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:~_x"><span class="id" type="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_,_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">w</span><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:e'x'ists_x_,_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">v</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> @<a class="idref" href="Term.html#Fun"><span class="id" type="constructor">Fun</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <span class="id" type="var">w</span>).<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">Hx</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">normal_form</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">Nt</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">It</span> <span class="id" type="var">Nt</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">Hx</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">w</span> <span class="id" type="var">H</span>].<br/>
<span class="id" type="var">exists</span> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a>.<br/>
<span class="id" type="var">exists</span> <a class="idref" href="NoUniqueNormalFormsWO.html#UD"><span class="id" type="definition">UD</span></a>.<br/>
<span class="id" type="var">exists</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> =&gt; <span class="id" type="var">w</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a>).<br/>
<span class="id" type="tactic">split</span>.<br/>
<span class="id" type="var">right</span>; <span class="id" type="var">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">Nt</span>.<br/>

<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">infinite</span> <span class="id" type="keyword">in</span> <span class="id" type="var">It</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">It</span> <span class="id" type="keyword">with</span> 2.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">It</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">p</span> [<span class="id" type="var">H1</span> <span class="id" type="var">H2</span>]].<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">a</span>] [| <span class="id" type="var">b</span> [| <span class="id" type="var">c</span> <span class="id" type="var">p</span>]]].<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vhead</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">destruct</span> (<span class="id" type="var">v</span> <a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a>).<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">f</span>.<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">Hx</span>.<br/>
<span class="id" type="var">exists</span> <span class="id" type="var">v0</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">contradict</span> <span class="id" type="var">H2</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h1 class="section">DUDU... has no normal form</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
We use <span class="inlinecode"><span class="id" type="var">context_ind2</span></span> in the following proof. 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Section</span> <a name="InductionPrinciple"><span class="id" type="section">InductionPrinciple</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="InductionPrinciple.P"><span class="id" type="variable">P</span></a> : <a class="idref" href="NoUniqueNormalFormsWO.html#context"><span class="id" type="abbreviation">context</span></a> -&gt; <span class="id" type="keyword">Type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hypothesis</span> <a name="InductionPrinciple.H1"><span class="id" type="variable">H1</span></a> : <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple.P"><span class="id" type="variable">P</span></a> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hypothesis</span> <a name="InductionPrinciple.H2"><span class="id" type="variable">H2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">f</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a>) (<span class="id" type="var">i</span> <span class="id" type="var">j</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">e</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#arity"><span class="id" type="definition">arity</span></a> <span class="id" type="var">f</span>) (<span class="id" type="var">v</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#terms"><span class="id" type="abbreviation">terms</span></a> <span class="id" type="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">w</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#terms"><span class="id" type="abbreviation">terms</span></a> <span class="id" type="var">j</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple.P"><span class="id" type="variable">P</span></a> (<a class="idref" href="Context.html#CFun"><span class="id" type="constructor">CFun</span></a> <span class="id" type="var">f</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a> <span class="id" type="var">w</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Hypothesis</span> <a name="InductionPrinciple.H3"><span class="id" type="variable">H3</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">f</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a>) (<span class="id" type="var">i</span> <span class="id" type="var">j</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">e</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#arity"><span class="id" type="definition">arity</span></a> <span class="id" type="var">f</span>) (<span class="id" type="var">v</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#terms"><span class="id" type="abbreviation">terms</span></a> <span class="id" type="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">w</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#terms"><span class="id" type="abbreviation">terms</span></a> <span class="id" type="var">j</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">g</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#F"><span class="id" type="definition">F</span></a>) (<span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">a</span> : <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">m</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#arity"><span class="id" type="definition">arity</span></a> <span class="id" type="var">g</span>) (<span class="id" type="var">x</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#terms"><span class="id" type="abbreviation">terms</span></a> <span class="id" type="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">c</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#context"><span class="id" type="abbreviation">context</span></a>) (<span class="id" type="var">z</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#terms"><span class="id" type="abbreviation">terms</span></a> <span class="id" type="var">m</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple.P"><span class="id" type="variable">P</span></a> <span class="id" type="var">c</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple.P"><span class="id" type="variable">P</span></a> (<a class="idref" href="Context.html#CFun"><span class="id" type="constructor">CFun</span></a> <span class="id" type="var">f</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> (<a class="idref" href="Context.html#CFun"><span class="id" type="constructor">CFun</span></a> <span class="id" type="var">g</span> <span class="id" type="var">a</span> <span class="id" type="var">x</span> <span class="id" type="var">c</span> <span class="id" type="var">z</span>) <span class="id" type="var">w</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Fixpoint</span> <a name="context_rect2"><span class="id" type="definition">context_rect2</span></a> <span class="id" type="var">c</span> : <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple.P"><span class="id" type="variable">P</span></a> <span class="id" type="var">c</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">c</span> <span class="id" type="keyword">return</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple.P"><span class="id" type="variable">P</span></a> <span class="id" type="var">c</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a>                                  =&gt; <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple.H1"><span class="id" type="variable">H1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Context.html#CFun"><span class="id" type="constructor">CFun</span></a> <span class="id" type="var">f</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a> <span class="id" type="var">w</span>                 =&gt; <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple.H2"><span class="id" type="variable">H2</span></a> <span class="id" type="var">f</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Context.html#CFun"><span class="id" type="constructor">CFun</span></a> <span class="id" type="var">f</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> (<a class="idref" href="Context.html#CFun"><span class="id" type="constructor">CFun</span></a> <span class="id" type="var">g</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">a</span> <span class="id" type="var">x</span> <span class="id" type="var">c</span> <span class="id" type="var">z</span>) <span class="id" type="var">w</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple.H3"><span class="id" type="variable">H3</span></a> <span class="id" type="var">f</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">g</span> <span class="id" type="var">a</span> <span class="id" type="var">x</span> <span class="id" type="var">z</span> (<a class="idref" href="NoUniqueNormalFormsWOElaborated.html#context_rect2"><span class="id" type="definition">context_rect2</span></a> <span class="id" type="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#InductionPrinciple"><span class="id" type="section">InductionPrinciple</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="context_ind2"><span class="id" type="definition">context_ind2</span></a> (<span class="id" type="var">P</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#context"><span class="id" type="abbreviation">context</span></a> -&gt; <span class="id" type="keyword">Prop</span>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWOElaborated.html#context_rect2"><span class="id" type="definition">context_rect2</span></a> <span class="id" type="var">P</span>.<br/>

<br/>
</div>

<div class="doc">
DUDU... rewrites only to itself. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="repeat_DU_rewrites_to_itself"><span class="id" type="lemma">repeat_DU_rewrites_to_itself</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">t</span> (<span class="id" type="var">p</span> : <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_[>]_x"><span class="id" type="notation">[&gt;]</span></a> <span class="id" type="var">t</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">t</span> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">p</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">H</span> | [<span class="id" type="var">H</span> | []]]; <span class="id" type="tactic">try</span> (<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t1</span>, <span class="id" type="var">t0</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>).<br/>

<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">DU</span>, <span class="id" type="var">lhs</span>, <span class="id" type="var">DU_l</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">DU</span>, <span class="id" type="var">rhs</span>, <span class="id" type="var">DU_r</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t1</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_trans"><span class="id" type="lemma">term_bis_trans</span></a> <span class="id" type="keyword">with</span> (<a class="idref" href="Context.html#fill"><span class="id" type="definition">fill</span></a> <span class="id" type="var">c</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>))).<br/>
<span class="id" type="tactic">exact</span> (<a class="idref" href="TermEquality.html#term_bis_symm"><span class="id" type="lemma">term_bis_symm</span></a> <span class="id" type="var">t1</span>).<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">t1</span>.<br/>

<br/>
<span class="id" type="tactic">assert</span> (<a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">(</span></a><a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)<a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">)</span></a> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>).<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">c</span> <span class="id" type="keyword">using</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#context_ind2"><span class="id" type="definition">context_ind2</span></a>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>

<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">ij</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">i</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">ij</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>

<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHc</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">IHc</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">ij</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">i</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">ij</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">nm</span> : <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">m</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">n</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">a</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">a</span> <span class="id" type="var">x</span> <span class="id" type="var">z</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">nm</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">nm</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">a</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">nm</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">a</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">z</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>

<br/>
<span class="id" type="tactic">assert</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>) <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>).<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">x0</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">x0</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>

<br/>
<span class="id" type="tactic">assert</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>) <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)).<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_trans"><span class="id" type="lemma">term_bis_trans</span></a> <span class="id" type="keyword">with</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_symm"><span class="id" type="lemma">term_bis_symm</span></a>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span> <span class="id" type="var">H0</span>.<br/>

<br/>
</div>

<div class="doc">
This should be a separate lemma. 
</div>
<div class="code">
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)).<br/>
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)).<br/>
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">t</span> <span class="id" type="var">r</span> <span class="id" type="var">u</span>.<br/>

<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">c</span> <span class="id" type="keyword">as</span> [| [] <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">c</span> <span class="id" type="var">IH</span> <span class="id" type="var">w</span>]; <span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> <span class="id" type="var">H1</span> <span class="id" type="var">u</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_trans"><span class="id" type="lemma">term_bis_trans</span></a> <span class="id" type="keyword">with</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_symm"><span class="id" type="lemma">term_bis_symm</span></a>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>

<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">ij</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">i</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">ij</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span> <span class="id" type="keyword">with</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">ij</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">i</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">ij</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span> <span class="id" type="keyword">with</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
</div>

<div class="doc">
Same case as the previous. 
</div>
<div class="code">

<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">UD</span>, <span class="id" type="var">lhs</span>, <span class="id" type="var">UD_l</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">UD</span>, <span class="id" type="var">rhs</span>, <span class="id" type="var">UD_r</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t1</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_trans"><span class="id" type="lemma">term_bis_trans</span></a> <span class="id" type="keyword">with</span> (<a class="idref" href="Context.html#fill"><span class="id" type="definition">fill</span></a> <span class="id" type="var">c</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>))).<br/>
<span class="id" type="tactic">exact</span> (<a class="idref" href="TermEquality.html#term_bis_symm"><span class="id" type="lemma">term_bis_symm</span></a> <span class="id" type="var">t1</span>).<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">t1</span>.<br/>

<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">c</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span> |- *; <span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">t0</span>;<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">t0</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">ij</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">i</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">v0</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">ij</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">v0</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">v</span>.<br/>

<br/>
<span class="id" type="var">change</span> (<a class="idref" href="Context.html#fill"><span class="id" type="definition">fill</span></a> <span class="id" type="var">c</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)) <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a><a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">)</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">assert</span> (<a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">(</span></a><a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)<a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">)</span></a> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a><a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">)</span></a>).<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">c</span> <span class="id" type="keyword">using</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#context_ind2"><span class="id" type="definition">context_ind2</span></a>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>

<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">ij</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">i</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">ij</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>

<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHc</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">IHc</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">ij</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">i</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">ij</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">nm</span> : <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">m</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">n</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">a</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">a</span> <span class="id" type="var">x</span> <span class="id" type="var">z</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">nm</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">nm</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">a</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> <span class="id" type="var">nm</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">a</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">z</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>

<br/>
<span class="id" type="tactic">assert</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>) <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a><a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">)</span></a>).<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H0</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H0</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>) <span class="id" type="keyword">in</span> <span class="id" type="var">x</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">x</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>

<br/>
<span class="id" type="tactic">assert</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>) <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)).<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_trans"><span class="id" type="lemma">term_bis_trans</span></a> <span class="id" type="keyword">with</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>).<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_symm"><span class="id" type="lemma">term_bis_symm</span></a>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">H0</span> <span class="id" type="var">H1</span>.<br/>

<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> (<a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">v0</span>.<br/>
<span class="id" type="var">change</span> (<a class="idref" href="Context.html#fill"><span class="id" type="definition">fill</span></a> <span class="id" type="var">c</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)) <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a><a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">)</span></a>).<br/>

<br/>
</div>

<div class="doc">
This should be a separate lemma. 
</div>
<div class="code">
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)).<br/>
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <span class="id" type="var">u</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@_x"><span class="id" type="notation">@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#varx"><span class="id" type="definition">varx</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#::x_!"><span class="id" type="notation">!</span></a>)).<br/>
<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#repeat_DU"><span class="id" type="definition">repeat_DU</span></a>).<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">t</span> <span class="id" type="var">r</span> <span class="id" type="var">u</span>.<br/>

<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">c</span> <span class="id" type="keyword">as</span> [| [] <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">c</span> <span class="id" type="var">IH</span> <span class="id" type="var">w</span>]; <span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> <span class="id" type="var">H1</span> <span class="id" type="var">u</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_trans"><span class="id" type="lemma">term_bis_trans</span></a> <span class="id" type="keyword">with</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_symm"><span class="id" type="lemma">term_bis_symm</span></a>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>

<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">ij</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">i</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">ij</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span> <span class="id" type="keyword">with</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>

<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">H1</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">H</span> <span class="id" type="keyword">with</span> (<a class="idref" href="Vector.html#First"><span class="id" type="constructor">First</span></a> (<span class="id" type="var">n</span> := 0)).<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">ij</span> : <span class="id" type="var">i</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_/\_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">j</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a> 0).<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">i</span> <span class="id" type="keyword">as</span> [| [| <span class="id" type="var">i</span>]]; <span class="id" type="tactic">auto</span>; <span class="id" type="tactic">discriminate</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="var">revert</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj1"><span class="id" type="lemma">proj1</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#proj2"><span class="id" type="lemma">proj2</span></a> <span class="id" type="var">ij</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">i</span> <span class="id" type="var">j</span> <span class="id" type="var">ij</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">e</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">v</span> <span class="id" type="var">w</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span> <span class="id" type="keyword">with</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab10"></a><h1 class="section">Some example rewrite sequences</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Zero-step reduction psi -&gt;&gt; psi. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="s_psi_psi"><span class="id" type="definition">s_psi_psi</span></a> : <a class="idref" href="NoUniqueNormalFormsWO.html#psi"><span class="id" type="definition">psi</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_->>_x"><span class="id" type="notation">-&gt;&gt;</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi"><span class="id" type="definition">psi</span></a> := <a class="idref" href="NoUniqueNormalFormsWO.html#Nil'"><span class="id" type="abbreviation">Nil'</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi"><span class="id" type="definition">psi</span></a>.<br/>

<br/>
</div>

<div class="doc">
Substitution for step psi -&gt; U @ psi' 1. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="sub_psi_Upsi1"><span class="id" type="definition">sub_psi_Upsi1</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> := <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="fact_term_bis_psi"><span class="id" type="lemma">fact_term_bis_psi</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Context.html#fill"><span class="id" type="definition">fill</span></a> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a> (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#sub_psi_Upsi1"><span class="id" type="definition">sub_psi_Upsi1</span></a> (<a class="idref" href="Rewriting.html#lhs"><span class="id" type="projection">lhs</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#DU"><span class="id" type="definition">DU</span></a>)) <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi"><span class="id" type="definition">psi</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi"><span class="id" type="definition">psi</span></a>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 1)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">sub_psi_Upsi1</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> (<a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1)).<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Step psi -&gt; U @ psi' 1. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="p_psi_Upsi1"><span class="id" type="definition">p_psi_Upsi1</span></a> : <a class="idref" href="NoUniqueNormalFormsWO.html#psi"><span class="id" type="definition">psi</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_[>]_x"><span class="id" type="notation">[&gt;]</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_[>]_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1<a class="idref" href="NoUniqueNormalFormsWO.html#::x_[>]_x"><span class="id" type="notation">)</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#Step"><span class="id" type="abbreviation">Step</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#DU"><span class="id" type="definition">DU</span></a> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#sub_psi_Upsi1"><span class="id" type="definition">sub_psi_Upsi1</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#DU_in"><span class="id" type="lemma">DU_in</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#fact_term_bis_psi"><span class="id" type="lemma">fact_term_bis_psi</span></a> (<a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1)).<br/>

<br/>
</div>

<div class="doc">
Single-step reduction psi -&gt;&gt; U @ psi' 1. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="s_psi_Upsi1"><span class="id" type="definition">s_psi_Upsi1</span></a> : <a class="idref" href="NoUniqueNormalFormsWO.html#psi"><span class="id" type="definition">psi</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_->>_x"><span class="id" type="notation">-&gt;&gt;</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_->>_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1<a class="idref" href="NoUniqueNormalFormsWO.html#::x_->>_x"><span class="id" type="notation">)</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Rewriting.html#Cons"><span class="id" type="constructor">Cons</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#s_psi_psi"><span class="id" type="definition">s_psi_psi</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#p_psi_Upsi1"><span class="id" type="definition">p_psi_Upsi1</span></a>.<br/>

<br/>
</div>

<div class="doc">
Substitution for step U @ psi' 1 -&gt; U D D U U U @ psi' 2. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="sub_Upsi1_UDDUUUpsi2"><span class="id" type="definition">sub_Upsi1_UDDUUUpsi2</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#X"><span class="id" type="definition">X</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> := <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 2.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="fact_term_bis_Upsi1"><span class="id" type="lemma">fact_term_bis_Upsi1</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Context.html#fill"><span class="id" type="definition">fill</span></a> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a>) (<a class="idref" href="Substitution.html#substitute"><span class="id" type="definition">substitute</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#sub_Upsi1_UDDUUUpsi2"><span class="id" type="definition">sub_Upsi1_UDDUUUpsi2</span></a> (<a class="idref" href="Rewriting.html#lhs"><span class="id" type="projection">lhs</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#DU"><span class="id" type="definition">DU</span></a>))<br/>
&nbsp;&nbsp;<a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1<a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> (<a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">D2nDt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">D2nDt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 2)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">vmap</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">sub_Upsi1_UDDUUUpsi2</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 1)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">generalize</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 2).<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="NoUniqueNormalFormsWO.html#term_bis_U"><span class="id" type="lemma">term_bis_U</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Step U @ psi' 1 -&gt; U D D U U U @ psi' 2. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="p_Upsi1_UDDUUUpsi2"><span class="id" type="definition">p_Upsi1_UDDUUUpsi2</span></a> : <a class="idref" href="NoUniqueNormalFormsWO.html#::x_[>]_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 1<a class="idref" href="NoUniqueNormalFormsWO.html#::x_[>]_x"><span class="id" type="notation">)</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_[>]_x"><span class="id" type="notation">[&gt;]</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_[>]_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 2<a class="idref" href="NoUniqueNormalFormsWO.html#::x_[>]_x"><span class="id" type="notation">)</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#Step"><span class="id" type="abbreviation">Step</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#DU"><span class="id" type="definition">DU</span></a> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@@@_x"><span class="id" type="notation">@@@</span></a> <a class="idref" href="Context.html#Hole"><span class="id" type="constructor">Hole</span></a>) <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#sub_Upsi1_UDDUUUpsi2"><span class="id" type="definition">sub_Upsi1_UDDUUUpsi2</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#DU_in"><span class="id" type="lemma">DU_in</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#fact_term_bis_Upsi1"><span class="id" type="lemma">fact_term_bis_Upsi1</span></a> (<a class="idref" href="TermEquality.html#term_bis_refl"><span class="id" type="lemma">term_bis_refl</span></a> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 2)).<br/>

<br/>
</div>

<div class="doc">
Two-step reduction psi -&gt;&gt; U D D U U U @ psi' 2. 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="s_psi_UDDUUUpsi2"><span class="id" type="definition">s_psi_UDDUUUpsi2</span></a> : <a class="idref" href="NoUniqueNormalFormsWO.html#psi"><span class="id" type="definition">psi</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_->>_x"><span class="id" type="notation">-&gt;&gt;</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_->>_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#psi'"><span class="id" type="definition">psi'</span></a> 2<a class="idref" href="NoUniqueNormalFormsWO.html#::x_->>_x"><span class="id" type="notation">)</span></a> := <a class="idref" href="Rewriting.html#Cons"><span class="id" type="constructor">Cons</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#s_psi_Upsi1"><span class="id" type="definition">s_psi_Upsi1</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#p_Upsi1_UDDUUUpsi2"><span class="id" type="definition">p_Upsi1_UDDUUUpsi2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab11"></a><h1 class="section">An additional property of the infinite rewrite sequence from psi</h1>

   to UUU... 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
Helper lemma for the following. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="all_terms_eq_up_to_d_s_UdDnUnt_Udt_repeat_U"><span class="id" type="lemma">all_terms_eq_up_to_d_s_UdDnUnt_Udt_repeat_U</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> <span class="id" type="var">n</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Rewriting.html#all_terms_eq_up_to"><span class="id" type="definition">all_terms_eq_up_to</span></a> <span class="id" type="var">d</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#s_UmDnUnt_Umt"><span class="id" type="definition">s_UmDnUnt_Umt</span></a> <span class="id" type="var">d</span> <span class="id" type="var">n</span> <span class="id" type="var">t</span>) <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intros</span> <span class="id" type="var">d</span> <span class="id" type="var">n</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span> <span class="id" type="keyword">as</span> [| <span class="id" type="var">n</span> <span class="id" type="var">IH</span>]; <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="NoUniqueNormalFormsWO.html#term_eq_up_to_n_Unt_repeat_U"><span class="id" type="lemma">term_eq_up_to_n_Unt_repeat_U</span></a>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="Rewriting.html#all_terms_eq_up_to_snoc"><span class="id" type="lemma">all_terms_eq_up_to_snoc</span></a>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="NoUniqueNormalFormsWO.html#term_eq_up_to_n_Unt_repeat_U"><span class="id" type="lemma">term_eq_up_to_n_Unt_repeat_U</span></a>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IH</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This would amount to most of weak convergence condition, except that it
   is not this easy to state. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="all_terms_eq_up_to_d_s_Udpsid_USdpsiSd_repeat_U"><span class="id" type="lemma">all_terms_eq_up_to_d_s_Udpsid_USdpsiSd_repeat_U</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Rewriting.html#all_terms_eq_up_to"><span class="id" type="definition">all_terms_eq_up_to</span></a> <span class="id" type="var">d</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#s_Unpsin_USnpsiSn"><span class="id" type="definition">s_Unpsin_USnpsiSn</span></a> <span class="id" type="var">d</span>) <a class="idref" href="NoUniqueNormalFormsWO.html#repeat_U"><span class="id" type="definition">repeat_U</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">d</span>.<br/>
<span class="id" type="tactic">unfold</span> <span class="id" type="var">s_Unpsin_USnpsiSn</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">unfold</span> <span class="id" type="var">eq_rect_r</span>; <span class="id" type="tactic">repeat</span> (<span class="id" type="var">elim_eq_rect</span> ; <span class="id" type="tactic">simpl</span>).<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="Rewriting.html#all_terms_eq_up_to_snoc"><span class="id" type="lemma">all_terms_eq_up_to_snoc</span></a>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="NoUniqueNormalFormsWO.html#term_eq_up_to_n_Unt_repeat_U"><span class="id" type="lemma">term_eq_up_to_n_Unt_repeat_U</span></a>.<br/>
<span class="id" type="tactic">apply</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#all_terms_eq_up_to_d_s_UdDnUnt_Udt_repeat_U"><span class="id" type="lemma">all_terms_eq_up_to_d_s_UdDnUnt_Udt_repeat_U</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab12"></a><h1 class="section">Alternative definition for <span class="inlinecode"><span class="id" type="var">psi</span></span>.</h1>


<br/> <br/>
   What follows is an alternative (actually the original) definition of <span class="inlinecode"><span class="id" type="var">psi</span></span>
   and (almost) a proof that it is equal to the new <span class="inlinecode"><span class="id" type="var">psi</span></span>.

<br/> <br/>
   This is actually a work in progress and the proof is not completed. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
D^n U^Sn D^SSn U^SSSn ... 
</div>
<div class="code">
<span class="id" type="keyword">CoFixpoint</span> <a name="oldpsi'"><span class="id" type="definition">oldpsi'</span></a> <span class="id" type="var">n</span> : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a>   =&gt; (<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a>   =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#oldpsi'"><span class="id" type="definition">oldpsi'</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">(</span></a><span class="id" type="var">USnt</span> <span class="id" type="var">u</span><a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">(</span></a><span class="id" type="var">Dnt</span> <span class="id" type="var">d</span><a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>).<br/>

<br/>
</div>

<div class="doc">
DUUDDDUUUU... 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="oldpsi"><span class="id" type="definition">oldpsi</span></a> := <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#oldpsi'"><span class="id" type="definition">oldpsi'</span></a> 0.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="UUSnt_eq_USnUt"><span class="id" type="lemma">UUSnt_eq_USnUt</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> (<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) <span class="id" type="var">n</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHn</span> <span class="id" type="keyword">with</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Terrible lemma that should help proving <span class="inlinecode"><span class="id" type="var">psi</span> <span class="id" type="var">n</span></span> and <span class="inlinecode"><span class="id" type="var">oldpsi</span> 2<span class="id" type="var">n</span></span>
   equal. 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="helper"><span class="id" type="lemma">helper</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">D2nDt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a>   =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> (<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a>   =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">(</span></a><span class="id" type="var">U2nt</span> <span class="id" type="var">u</span><a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">(</span></a><span class="id" type="var">D2nDt</span> <span class="id" type="var">d</span><a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) <span class="id" type="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a>   =&gt; (<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a>   =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">(</span></a><span class="id" type="var">USnt</span> <span class="id" type="var">u</span><a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">(</span></a><span class="id" type="var">Dnt</span> <span class="id" type="var">d</span><a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (2 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_*_x"><span class="id" type="notation">*</span></a> <span class="id" type="var">n</span>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">D2nDt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">D2nDt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 1)).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">Dnt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 1)).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 1)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">Dnt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">D2nDt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">D2nDt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)))).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">Dnt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> 0)))))).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">Dnt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> 0))))).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> <a class="idref" href="NoUniqueNormalFormsWO.html#UU2nt_eq_U2nUt_unfolded"><span class="id" type="lemma">UU2nt_eq_U2nUt_unfolded</span></a> <span class="id" type="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>) <span class="id" type="var">t</span>.<br/>
<span class="id" type="tactic">rewrite</span> <a class="idref" href="NoUniqueNormalFormsWO.html#UU2nt_eq_U2nUt_unfolded"><span class="id" type="lemma">UU2nt_eq_U2nUt_unfolded</span></a> <span class="id" type="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>) (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span>).<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHn</span> <span class="id" type="keyword">with</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span>).<br/>
<span class="id" type="tactic">rewrite</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#UUSnt_eq_USnUt"><span class="id" type="lemma">UUSnt_eq_USnUt</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>) (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span>).<br/>
<span class="id" type="tactic">rewrite</span> <a class="idref" href="NoUniqueNormalFormsWOElaborated.html#UUSnt_eq_USnUt"><span class="id" type="lemma">UUSnt_eq_USnUt</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>) (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span>).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#eq_sym"><span class="id" type="lemma">eq_sym</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#plus_n_Sm"><span class="id" type="lemma">plus_n_Sm</span></a> <span class="id" type="var">n</span> <span class="id" type="var">n</span>)).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#eq_sym"><span class="id" type="lemma">eq_sym</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#plus_n_Sm"><span class="id" type="lemma">plus_n_Sm</span></a> <span class="id" type="var">n</span> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> 0))).<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="bb"><span class="id" type="lemma">bb</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">(</span></a><a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) <span class="id" type="var">n</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">IHn</span> <span class="id" type="var">t</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="aa"><span class="id" type="lemma">aa</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">Dnt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">n</span>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Logic.html#:type_scope:x_=_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#Dnt"><span class="id" type="definition">Dnt</span></a> (2 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_*_x"><span class="id" type="notation">*</span></a> <span class="id" type="var">n</span>) (<a class="idref" href="NoUniqueNormalFormsWO.html#Unt"><span class="id" type="definition">Unt</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (2 <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_*_x"><span class="id" type="notation">*</span></a> <span class="id" type="var">n</span>)) <span class="id" type="var">t</span>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">Dnt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) 0)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">t</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">Dnt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#plus_n_Sm"><span class="id" type="lemma">plus_n_Sm</span></a> <span class="id" type="var">n</span> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> 0)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">d0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#D"><span class="id" type="constructor">D</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">Dnt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>))))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="Term.html#peek_eq"><span class="id" type="lemma">peek_eq</span></a> ((<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="NoUniqueNormalFormsWO.html#term"><span class="id" type="abbreviation">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">u0</span> =&gt; <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="NoUniqueNormalFormsWOElaborated.html#bb"><span class="id" type="lemma">bb</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>) <span class="id" type="var">t</span>).<br/>
<span class="id" type="tactic">rewrite</span> (<a class="idref" href="NoUniqueNormalFormsWOElaborated.html#bb"><span class="id" type="lemma">bb</span></a> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#:nat_scope:x_+_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>) (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span>)).<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/stdlib/Coq.Init.Peano.html#plus_n_Sm"><span class="id" type="lemma">plus_n_Sm</span></a>.<br/>
<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">IHn</span> (<a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#U"><span class="id" type="constructor">U</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#::x_@_x"><span class="id" type="notation">@</span></a> <span class="id" type="var">t</span>)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="NoUniqueNormalFormsWO.html#UUnt_eq_UnUt"><span class="id" type="lemma">UUnt_eq_UnUt</span></a>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="NoUniqueNormalFormsWO.html#UUnt_eq_UnUt"><span class="id" type="lemma">UUnt_eq_UnUt</span></a>.<br/>
<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="ccD"><span class="id" type="lemma">ccD</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">s</span> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <span class="id" type="var">t</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#Dnt"><span class="id" type="definition">Dnt</span></a> <span class="id" type="var">n</span> <span class="id" type="var">s</span> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#Dnt"><span class="id" type="definition">Dnt</span></a> <span class="id" type="var">n</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intros</span>.<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="ccU"><span class="id" type="lemma">ccU</span></a> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">s</span> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <span class="id" type="var">t</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="NoUniqueNormalFormsWO.html#Unt"><span class="id" type="definition">Unt</span></a> <span class="id" type="var">n</span> <span class="id" type="var">s</span> <a class="idref" href="TermEquality.html#::x_[~]_x"><span class="id" type="notation">[~]</span></a> <a class="idref" href="NoUniqueNormalFormsWO.html#Unt"><span class="id" type="definition">Unt</span></a> <span class="id" type="var">n</span> <span class="id" type="var">t</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">intros</span>.<br/>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
   The proof of this lemma is not guarded:

<br/> <br/>
<br/>
<span class="inlinecode"><span class="id" type="keyword">Lemma</span> <span class="id" type="var">psin_eq_oldpsi2n</span> :<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">psi'</span> <span class="id" type="var">n</span> [~] <span class="id" type="var">oldpsi'</span> (2 * <span class="id" type="var">n</span>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<br/>
<span class="id" type="var">cofix</span> <span class="id" type="var">c</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">n</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">peek_eq</span> (<span class="id" type="var">psi'</span> <span class="id" type="var">n</span>)).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> := <span class="id" type="var">helper</span> <span class="id" type="var">n</span> (<span class="id" type="var">psi'</span> (<span class="id" type="var">S</span> <span class="id" type="var">n</span>))).<br/>
<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">peek_eq</span> ((<span class="id" type="var">cofix</span> <span class="id" type="var">D2nDt</span> (<span class="id" type="var">d</span> : <span class="id" type="var">nat</span>) : <span class="id" type="var">term</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">D</span> @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">U2nt</span> (<span class="id" type="var">u</span> : <span class="id" type="var">nat</span>) : <span class="id" type="var">term</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">psi'</span> (<span class="id" type="var">S</span> <span class="id" type="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">S</span> <span class="id" type="var">u0</span> =&gt; <span class="id" type="var">U</span> @ <span class="id" type="var">U</span> @ <span class="id" type="var">U2nt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<span class="id" type="var">S</span> <span class="id" type="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">S</span> <span class="id" type="var">d0</span> =&gt; <span class="id" type="var">D</span> @ <span class="id" type="var">D</span> @ <span class="id" type="var">D2nDt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) <span class="id" type="var">n</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">peek_eq</span> ((<span class="id" type="var">cofix</span> <span class="id" type="var">Dnt</span> (<span class="id" type="var">d</span> : <span class="id" type="var">nat</span>) : <span class="id" type="var">term</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">d</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cofix</span> <span class="id" type="var">USnt</span> (<span class="id" type="var">u</span> : <span class="id" type="var">nat</span>) : <span class="id" type="var">term</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">u</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" type="var">U</span> @ <span class="id" type="var">psi'</span> (<span class="id" type="var">S</span> <span class="id" type="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">S</span> <span class="id" type="var">u0</span> =&gt; <span class="id" type="var">U</span> @ <span class="id" type="var">USnt</span> <span class="id" type="var">u0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<span class="id" type="var">S</span> (<span class="id" type="var">n</span> + <span class="id" type="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">S</span> <span class="id" type="var">d0</span> =&gt; <span class="id" type="var">D</span> @ <span class="id" type="var">Dnt</span> <span class="id" type="var">d0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>) (<span class="id" type="var">S</span> (<span class="id" type="var">n</span> + (<span class="id" type="var">n</span> + 0))))).<br/>
<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">peek_eq</span> (<span class="id" type="var">oldpsi'</span> (<span class="id" type="var">n</span> + (<span class="id" type="var">n</span> + 0)))).<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="var">constructor</span>.<br/>
<span class="id" type="tactic">intro</span> <span class="id" type="var">i</span>.<br/>
<span class="id" type="tactic">dependent</span> <span class="id" type="tactic">destruction</span> <span class="id" type="var">i</span>; [<span class="id" type="var">idtac</span> | <span class="id" type="tactic">inversion</span> <span class="id" type="var">i</span>].<br/>
<span class="id" type="tactic">simpl</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">plus_n_O</span>.<br/>
<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">aa</span> <span class="id" type="var">n</span> (<span class="id" type="var">U</span> @ <span class="id" type="var">psi'</span> (<span class="id" type="var">S</span> <span class="id" type="var">n</span>))).<br/>
<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">aa</span> <span class="id" type="var">n</span> (<span class="id" type="var">U</span> @ <span class="id" type="var">oldpsi'</span> (<span class="id" type="var">S</span> (<span class="id" type="var">S</span> (<span class="id" type="var">n</span> + <span class="id" type="var">n</span>))))).<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">UUnt_eq_UnUt</span>.<br/>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">UUnt_eq_UnUt</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">ccD</span>.<br/>
<span class="id" type="tactic">apply</span> (<span class="id" type="var">ccU</span> (<span class="id" type="var">S</span> (<span class="id" type="var">S</span> (2 * <span class="id" type="var">n</span>)))).<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">plus_n_Sm</span>.<br/>
<span class="id" type="tactic">pattern</span> (<span class="id" type="var">S</span> <span class="id" type="var">n</span>) <span class="id" type="tactic">at</span> 2.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">plus_n_O</span>.<br/>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">plus_Sn_m</span>.<br/>
<span class="id" type="var">specialize</span> <span class="id" type="var">c</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">S</span> <span class="id" type="var">n</span>).<br/>
<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">c</span>.<br/>
<span class="id" type="tactic">exact</span> <span class="id" type="var">c</span>.<br/>
<span class="id" type="var">Guarded</span>.<br/>
<br/>

<br/> <br/>
</span>
<br/> <br/>
   If the proof was complete, it would let us prove the following easily:

<br/> <br/>
<br/>
<span class="inlinecode"><span class="id" type="keyword">Lemma</span> <span class="id" type="var">psi_eq_oldpsi</span> :<br/>
&nbsp;&nbsp;<span class="id" type="var">psi</span> [~] <span class="id" type="var">oldpsi</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
<span class="id" type="tactic">apply</span> <span class="id" type="var">psin_eq_oldpsi2n</span>.<br/>
<span class="id" type="keyword">Qed</span>.
<br/> <br/>
</span>
</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>